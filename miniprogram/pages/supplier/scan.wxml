<!--pages/supplier/scan.wxml-->
<view class="container">
  <view class="header">
    <text class="title">供应商信息录入</text>
    <text class="subtitle">支持扫码录入和手动输入</text>
  </view>

  <!-- 扫码按钮 -->
  <view class="scan-section">
    <button class="scan-btn" bindtap="scanSupplierInfo" disabled="{{isScanning}}">
      <image class="scan-icon" src="/images/scan.png" wx:if="{{!isScanning}}"></image>
      <text wx:if="{{isScanning}}">扫码中...</text>
      <text wx:else>扫码录入供应商信息</text>
    </button>
  </view>

  <!-- 供应商信息表单 -->
  <view class="form-section">
    <view class="form-item">
      <text class="label">供应商名称 *</text>
      <input 
        class="input" 
        placeholder="请输入供应商名称" 
        value="{{supplierInfo.name}}"
        data-field="name"
        bindinput="inputSupplierInfo"
      />
    </view>

    <view class="form-item">
      <text class="label">联系人 *</text>
      <input 
        class="input" 
        placeholder="请输入联系人姓名" 
        value="{{supplierInfo.contactPerson}}"
        data-field="contactPerson"
        bindinput="inputSupplierInfo"
      />
    </view>

    <view class="form-item">
      <text class="label">联系电话 *</text>
      <input 
        class="input" 
        type="number"
        placeholder="请输入联系电话" 
        value="{{supplierInfo.phone}}"
        data-field="phone"
        bindinput="inputSupplierInfo"
      />
    </view>

    <view class="form-item">
      <text class="label">邮箱地址</text>
      <input 
        class="input" 
        type="text"
        placeholder="请输入邮箱地址" 
        value="{{supplierInfo.email}}"
        data-field="email"
        bindinput="inputSupplierInfo"
      />
    </view>

    <view class="form-item">
      <text class="label">公司地址</text>
      <textarea 
        class="textarea" 
        placeholder="请输入公司地址" 
        value="{{supplierInfo.address}}"
        data-field="address"
        bindinput="inputSupplierInfo"
      />
    </view>

    <view class="form-item">
      <text class="label">营业执照号</text>
      <input 
        class="input" 
        placeholder="请输入营业执照号" 
        value="{{supplierInfo.businessLicense}}"
        data-field="businessLicense"
        bindinput="inputSupplierInfo"
      />
    </view>

    <view class="form-item">
      <text class="label">税号</text>
      <input 
        class="input" 
        placeholder="请输入税号" 
        value="{{supplierInfo.taxNumber}}"
        data-field="taxNumber"
        bindinput="inputSupplierInfo"
      />
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-section">
    <button class="action-btn generate-btn" bindtap="generateQRCode">
      生成二维码
    </button>
    <button class="action-btn save-btn" bindtap="saveSupplierInfo">
      保存信息
    </button>
  </view>

  <!-- 预览信息 -->
  <view class="preview-section" wx:if="{{supplierInfo.name}}">
    <text class="preview-title">预览信息</text>
    <view class="preview-content">
      <view class="preview-item">
        <text class="preview-label">供应商名称：</text>
        <text class="preview-value">{{supplierInfo.name}}</text>
      </view>
      <view class="preview-item">
        <text class="preview-label">联系人：</text>
        <text class="preview-value">{{supplierInfo.contactPerson}}</text>
      </view>
      <view class="preview-item">
        <text class="preview-label">联系电话：</text>
        <text class="preview-value">{{supplierInfo.phone}}</text>
      </view>
      <view class="preview-item" wx:if="{{supplierInfo.email}}">
        <text class="preview-label">邮箱地址：</text>
        <text class="preview-value">{{supplierInfo.email}}</text>
      </view>
      <view class="preview-item" wx:if="{{supplierInfo.address}}">
        <text class="preview-label">公司地址：</text>
        <text class="preview-value">{{supplierInfo.address}}</text>
      </view>
    </view>
  </view>
</view> 